<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tranquil Solimar - Guest Information</title>
    <meta name="robots" content="noindex, nofollow">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/portal-styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        /* English-specific overrides */
        .detail-section strong {
            min-width: 140px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="portal-header">
        <div class="header-left">
            <div class="property-logo">üè†</div>
            <div class="property-name">Tranquil Solimar</div>
        </div>
        <div class="header-icons">
            <a href="#" id="languageSwitcher" class="language-switcher" title="Cambiar a Espa√±ol">
                <span class="flag">üá≤üáΩ</span>
                <span>ES</span>
            </a>
            <a onclick="window.print()" title="Print"><i class="fas fa-print"></i></a>
            <a onclick="shareGuide()" title="Share"><i class="fas fa-share-alt"></i></a>
        </div>
    </div>

    <!-- Main View - Card Grid -->
    <div class="main-view" id="mainView">
        <div class="cards-container">
            <div class="info-card" onclick="showDetail('welcome')">
                <i class="far fa-smile"></i>
                <h3>Welcome</h3>
            </div>

            <div class="info-card" onclick="showDetail('before-leave')">
                <i class="fas fa-clipboard-check"></i>
                <h3>Before You Leave Home</h3>
            </div>

            <div class="info-card" onclick="showDetail('arrival')">
                <i class="fas fa-key"></i>
                <h3>Arrival Information</h3>
            </div>

            <div class="info-card" onclick="showDetail('wifi')">
                <i class="fas fa-wifi"></i>
                <h3>WiFi / Internet Details</h3>
            </div>

            <div class="info-card" onclick="showDetail('house-info')">
                <i class="fas fa-home"></i>
                <h3>Key House Information</h3>
            </div>

            <div class="info-card" onclick="showDetail('explore')">
                <i class="fas fa-map-marker-alt"></i>
                <h3>Explore the Area</h3>
            </div>

            <div class="info-card" onclick="showDetail('safety')">
                <i class="fas fa-book"></i>
                <h3>Safety & House Rules</h3>
            </div>

            <div class="info-card" onclick="showDetail('departure')">
                <i class="fas fa-suitcase"></i>
                <h3>Departure Information</h3>
            </div>

            <div class="info-card" onclick="showDetail('contacts')">
                <i class="fas fa-phone-alt"></i>
                <h3>Important Contacts</h3>
            </div>

            <div class="info-card" onclick="showDetail('review')">
                <i class="far fa-star"></i>
                <h3>Leave a Review</h3>
            </div>
        </div>
    </div>

    <!-- Detail Views -->
    <!-- Welcome -->
    <div class="detail-view" id="detail-welcome">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Welcome</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Welcome to Tranquil Solimar</h3>
                <p>We're delighted to have you stay with us! This guide contains everything you need for a comfortable and enjoyable stay in San Carlos, Sonora.</p>
                <p>Use the navigation to access check-in details, Wi-Fi information, house guides, and local recommendations.</p>
                <p>Check-in is available from 4:00 PM - 11:00 PM, and check-out is at 11:00 AM. If you need any assistance during your stay, please don't hesitate to reach out.</p>
            </div>
        </div>
    </div>

    <!-- Before You Leave Home -->
    <div class="detail-view" id="detail-before-leave">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Before You Leave Home</h2>
        </div>
        <div class="detail-content">
            <details class="collapsible-section">
                <summary>What to Pack</summary>
                <div class="collapsible-content">
                    <ul>
                        <li><strong>Sunscreen:</strong> Essential for sunny San Carlos days</li>
                        <li><strong>Beach Towels:</strong> Provided at the property</li>
                        <li><strong>Comfortable Shoes:</strong> For exploring the town</li>
                        <li><strong>Light Clothing:</strong> Warm weather year-round</li>
                        <li><strong>Travel Documents:</strong> Ensure you have your passport and any required travel documents for crossing into Mexico</li>
                    </ul>
                </div>
            </details>
            <details class="collapsible-section">
                <summary>Payment Guide</summary>
                <div class="collapsible-content">
                    <p>Prepare for seamless transactions during your trip:</p>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1rem; margin-bottom: 0.75rem;">Guide for US Tourists</h4>
                    <ul class="recommendation-list">
                        <li>Notify your bank that you'll be traveling to Mexico</li>
                        <li>Check if your card has foreign transaction fees</li>
                        <li>Bring a mix of pesos + card for greater convenience</li>
                        <li>Keep small bills (50, 100, 200 peso notes) for easier transactions</li>
                    </ul>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">Guide for Mexican Tourists</h4>

                    <p style="margin-bottom: 0.5rem;"><strong>Cash (MXN)</strong></p>
                    <ul class="recommendation-list">
                        <li>Useful in small businesses, markets, and where cards aren't accepted</li>
                        <li>Carry small bills (50, 100, 200) for easier change</li>
                        <li>Essential for beach vendors and local services</li>
                    </ul>

                    <p style="margin-bottom: 0.5rem; margin-top: 1rem;"><strong>Card</strong></p>
                    <ul class="recommendation-list">
                        <li>Accepted at most restaurants and hotels</li>
                        <li>Some places charge 5-7% card surcharge</li>
                        <li>Always ask about fees first</li>
                    </ul>

                    <a href="https://sancarlos-sonora.com/en/money-guide/" target="_blank" class="full-guide-button">
                        View Complete Money Guide <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </details>
            <details class="collapsible-section">
                <summary>How to Get Here</summary>
                <div class="collapsible-content">
                    <p><strong>Property Address:</strong><br>
                    Condominios Solimar, Camino de los Yaquis<br>
                    San Carlos, Sonora, Mexico</p>

                    <p style="margin-top: 1.5rem;"><strong>From Arizona:</strong><br>
                    Cross the border at Nogales (Arizona ‚Üí Nogales, Sonora), then take Highway 15 South towards Guaymas/San Carlos (approximately 4 hours). Follow signs to San Carlos on Highway 124 (15 minutes from Highway 15).</p>

                    <p style="margin-top: 1.5rem;"><strong>Need Navigation?</strong> Use the button below for turn-by-turn directions:</p>
                    <a href="https://maps.google.com/maps?q=Condominios+Solimar,+San+Carlos,+Sonora,+Mexico" target="_blank" class="full-guide-button" style="margin-top: 1rem;">
                        <i class="fas fa-map-marked-alt"></i> Open Navigation to Condominios Solimar
                    </a>

                    <div class="note-box" style="margin-top: 1.5rem;">
                        <i class="fas fa-info-circle"></i> <strong>Border Crossing Tip:</strong> Have your passport ready and consider crossing early in the day to avoid long wait times. Mexican car insurance is required and can be purchased online before your trip.
                    </div>
                </div>
            </details>
            <details class="collapsible-section">
                <summary>What's Provided at the Property</summary>
                <div class="collapsible-content">
                    <p>These essentials are already stocked for your convenience:</p>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">Linens & Bedding</h4>
                    <ul class="recommendation-list">
                        <li>Bed linen & bedspreads</li>
                        <li>Bath towels, hand towels, flannels</li>
                    </ul>
                    <p style="color: #666; font-size: 0.9rem; margin-left: 1.5rem;"><em>Note: Beach towels are not provided</em></p>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">Bathroom Essentials</h4>
                    <ul class="recommendation-list">
                        <li>Hand soap</li>
                        <li>Shampoo & shower gel</li>
                        <li>Toilet paper</li>
                        <li>Hair dryer</li>
                    </ul>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">Kitchen & Utility</h4>
                    <ul class="recommendation-list">
                        <li>Cooking oil</li>
                        <li>Salt & pepper</li>
                        <li>Assorted herbs & spices</li>
                        <li>Washing up liquid & sponge</li>
                    </ul>

                    <h4 style="color: #1863DC; font-size: 1rem; margin-top: 1.5rem; margin-bottom: 0.75rem;">Store Cupboard</h4>
                    <ul class="recommendation-list">
                        <li>Selection of teabags</li>
                        <li>Coffee beans & ground coffee for cafetiere</li>
                        <li>Sugar & sweetener</li>
                    </ul>

                    <div class="note-box">
                        <i class="fas fa-info-circle"></i> <strong>Please Note:</strong> These items are provided for your use during your stay. Please help us maintain our stock for future guests by not removing items or taking extras from storage. Thank you for your understanding!
                    </div>
                </div>
            </details>
        </div>
    </div>

    <!-- Arrival Information -->
    <div class="detail-view" id="detail-arrival">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Arrival Information</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Check-In Time</h3>
                <p>Check-in is available from 4:00 PM - 11:00 PM.</p>
            </div>

            <div class="detail-section">
                <h3>Key Pickup</h3>
                <p>You'll receive a text from our co-host before arrival with key pickup details. Feel free to text or call with any questions!</p>
            </div>

            <div class="detail-section">
                <h3>Parking Options</h3>
                <p><strong>Option 1: Street Parking</strong><br>
                Park on the street and use the entrance on Camino de los Yaquis.</p>

                <p style="margin-top: 1rem;"><strong>Option 2: Gated Parking</strong><br>
                We'll provide an access card for gated parking inside the complex. Enter through the interior door.</p>
            </div>
        </div>
    </div>

    <!-- WiFi Details -->
    <div class="detail-view" id="detail-wifi">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">WiFi / Internet Details</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>WiFi Network</h3>
                <ul>
                    <li><strong>Network Name:</strong> TP-Link_6C61_5G</li>
                    <li><strong>Password:</strong> 09092259</li>
                </ul>
                <button onclick="copyAndOpenWiFi()" style="margin-top: 1rem; padding: 0.75rem 1.5rem; background: #1863DC; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; width: 100%;">
                    <i class="fas fa-wifi"></i> Copy Password & Open WiFi Settings
                </button>
            </div>

            <div class="detail-section" style="text-align: center;">
                <h3>Quick Connect with QR Code</h3>
                <p>Scan this QR code to connect automatically:</p>
                <div id="wifiQRCode" style="display: inline-block; padding: 1rem; background: white; border-radius: 8px; margin: 1rem 0;"></div>
                <p style="color: #666; font-size: 0.9rem; margin-top: 0.5rem;"><em>Point your phone's camera at the QR code - it will automatically prompt you to join the network!</em></p>
            </div>

            <div class="detail-section">
                <h3>Troubleshooting</h3>
                <p>If you experience any connectivity issues, please contact us and we'll help resolve the problem as quickly as possible.</p>
            </div>
        </div>
    </div>

    <!-- Key House Information -->
    <div class="detail-view" id="detail-house-info">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Key House Information</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Air Conditioning</h3>
                <p>[Instructions for using the AC system]</p>
            </div>
            <div class="detail-section">
                <h3>Smart TV</h3>
                <p>[Instructions for using the TV and streaming services]</p>
            </div>
            <div class="detail-section">
                <h3>Kitchen Appliances</h3>
                <p>[Instructions for coffee maker, stove, oven, etc.]</p>
            </div>
            <div class="detail-section">
                <h3>Water System</h3>
                <p>[Information about water, drinking water, hot water heater]</p>
            </div>
            <div class="detail-section">
                <h3>Trash & Recycling</h3>
                <p>[Instructions for trash disposal, pickup days, location of bins]</p>
            </div>
        </div>
    </div>

    <!-- Explore the Area -->
    <div class="detail-view" id="detail-explore">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Explore the Area</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3><i class="fas fa-umbrella-beach"></i> Must-Visit Beaches</h3>
                <div class="recommendation-card">
                    <h4>Top Beach Picks</h4>
                    <ul class="recommendation-list">
                        <li>Playa Algodones - Perfect for swimming and water sports</li>
                        <li>San Francisco Beach - Family-friendly with calm waters</li>
                        <li>Piedras Pintas - Stunning rock formations and snorkeling</li>
                        <li>Catch 22 Beach - Secluded paradise for relaxation</li>
                    </ul>
                    <a href="/en/beaches/" target="_blank" class="full-guide-button">
                        View Complete Beach Guide <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>

            <div class="detail-section">
                <h3><i class="fas fa-utensils"></i> Dining Recommendations</h3>
                <div class="recommendation-card">
                    <h4>Local Favorites</h4>
                    <p>Experience authentic Sonoran cuisine and fresh seafood at these beloved spots:</p>
                    <ul class="recommendation-list">
                        <li>Tequila's Restaurant - Traditional Mexican favorites</li>
                        <li>Jax Snacks - Best fish tacos in town</li>
                        <li>Rosa's Cantina - Waterfront dining with sunset views</li>
                    </ul>
                    <a href="/en/eat-like-a-local/" target="_blank" class="full-guide-button">
                        Explore All Restaurants <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>

                <div class="recommendation-card">
                    <h4>Beachfront Experiences</h4>
                    <p>Enjoy dining with your toes in the sand:</p>
                    <ul class="recommendation-list">
                        <li>Sunset Bar & Grill - Watch dolphins while you dine</li>
                        <li>Soggy Peso - Live music and beach vibes</li>
                        <li>JJ's Cantina - Local hangout with great atmosphere</li>
                    </ul>
                    <a href="/en/beachfront-experiences/" target="_blank" class="full-guide-button">
                        See Beach Clubs & Dining <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>

            <div class="detail-section">
                <h3><i class="fas fa-hiking"></i> Activities & Adventures</h3>
                <div class="recommendation-card">
                    <h4>Popular Activities</h4>
                    <ul class="recommendation-list">
                        <li>Snorkeling & Scuba Diving - Crystal clear waters</li>
                        <li>Sport Fishing - World-class catches year-round</li>
                        <li>Kayaking & Paddleboarding - Explore hidden coves</li>
                        <li>Hiking Trails - Desert and coastal landscapes</li>
                        <li>Dolphin & Whale Watching - Seasonal tours available</li>
                    </ul>
                    <a href="/en/activities/" target="_blank" class="full-guide-button">
                        Discover All Activities <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>

            <div class="detail-section">
                <h3><i class="fas fa-info-circle"></i> Need More Information?</h3>
                <p>Visit our complete San Carlos travel guide for detailed information on attractions, events, transportation, and insider tips to make the most of your stay.</p>
                <a href="/en/" target="_blank" class="full-guide-button">
                    Explore Full Travel Guide <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Safety & House Rules -->
    <div class="detail-view" id="detail-safety">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Safety & House Rules</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Smoking Policy</h3>
                <p>This is a smoke-free home. Please do not smoke, vape, or use e-cigarettes inside the property or in any condominium common areas (including gardens, pools, and walkways).</p>
                <p>If you need to smoke, there is an unofficial smoking area at the street curb on Camino de los Yaquis. Please properly dispose of cigarette butts before you leave.</p>
                <p>Thank you for your cooperation.</p>
            </div>

            <div class="detail-section">
                <h3>House Rules</h3>
                <ul>
                    <li><strong>Quiet Hours:</strong> 10:00 PM - 8:00 AM</li>
                    <li><strong>Parties:</strong> No parties or events</li>
                </ul>
            </div>

            <div class="detail-section">
                <h3>Safety Information</h3>
                <p>Smoke detectors and fire extinguishers are located throughout the property. In case of emergency, dial 911.</p>
            </div>
        </div>
    </div>

    <!-- Departure Information -->
    <div class="detail-view" id="detail-departure">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Departure Information</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Check-Out Time</h3>
                <p>Check-out is at 11:00 AM.</p>
            </div>

            <div class="detail-section">
                <h3>Key Return</h3>
                <p>We'll arrange key pickup in person via text. If your plans change, just let us know!</p>
            </div>

            <div class="detail-section">
                <h3>Before You Leave</h3>
                <ul>
                    <li>Turn off all lights and air conditioning</li>
                    <li>Close and lock all windows and doors</li>
                    <li>Take trash to the bins outside</li>
                </ul>
            </div>

            <div class="detail-section">
                <h3>Late Check-Out</h3>
                <p>Need more time? Contact us in advance and we'll do our best to accommodate you (subject to availability).</p>
            </div>
        </div>
    </div>

    <!-- Important Contacts -->
    <div class="detail-view" id="detail-contacts">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Important Contacts</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Emergency Contacts</h3>
                <ul>
                    <li><strong>Emergency Services:</strong> 911</li>
                    <li><strong>Property Manager:</strong> [Your Phone]</li>
                    <li><strong>Local Hospital:</strong> [Hospital Name & Phone]</li>
                    <li><strong>Police (Non-Emergency):</strong> [Phone Number]</li>
                </ul>
            </div>
            <div class="detail-section">
                <h3>Local Services</h3>
                <ul>
                    <li><strong>Taxi Service:</strong> [Phone Number]</li>
                    <li><strong>Grocery Delivery:</strong> [Phone Number]</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Leave a Review -->
    <div class="detail-view" id="detail-review">
        <div class="detail-header">
            <button class="back-button" onclick="hideDetail()"><i class="fas fa-arrow-left"></i></button>
            <h2 class="detail-title">Leave a Review</h2>
        </div>
        <div class="detail-content">
            <div class="detail-section">
                <h3>Share Your Experience</h3>
                <p>We hope you enjoyed your stay at Tranquil Solimar! Your feedback helps us improve and helps future guests.</p>
                <p>Please consider leaving us a review on your booking platform or contacting us directly with any feedback.</p>
            </div>
            <div class="detail-section">
                <h3>Contact Us</h3>
                <p>Email: [Your Email]<br>Phone: [Your Phone]</p>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <a href="/en/guest-portal/" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <button class="nav-item active" onclick="showMainView()">
            <i class="fas fa-info-circle"></i>
            <span>Info</span>
        </button>
        <a href="/en/" class="nav-item">
            <i class="fas fa-map"></i>
            <span>Map</span>
        </a>
        <a href="/en/" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Search</span>
        </a>
    </div>

    <script>
        // Check authentication
        function checkAuth() {
            const isAuthenticated = sessionStorage.getItem('guestAuthenticated');
            if (!isAuthenticated) {
                window.location.href = '/en/guest-portal/';
            }
        }

        // Run auth check on load
        checkAuth();

        // Show detail view
        function showDetail(section) {
            document.getElementById('mainView').classList.add('hidden');
            document.querySelectorAll('.detail-view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById('detail-' + section).classList.add('active');
            window.scrollTo(0, 0);
        }

        // Hide detail view and show main grid
        function hideDetail() {
            document.querySelectorAll('.detail-view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById('mainView').classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        // Show main view from bottom nav
        function showMainView() {
            hideDetail();
        }

        // Share function
        function shareGuide() {
            if (navigator.share) {
                navigator.share({
                    title: 'Tranquil Solimar Guest Guide',
                    text: 'Guest information for Tranquil Solimar',
                    url: window.location.href
                });
            } else {
                alert('Share this link: ' + window.location.href);
            }
        }

        // Copy password and show instructions
        function copyAndOpenWiFi() {
            const password = '09092259';
            const ssid = 'TP-Link_6C61_5G';

            // Copy password to clipboard
            navigator.clipboard.writeText(password).then(() => {
                // Show success message
                showWiFiInstructions();

                // Try to open WiFi settings (will fail silently if not supported)
                try {
                    // For iOS (usually doesn't work from web, but worth trying)
                    if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
                        window.location.href = 'App-prefs:root=WIFI';
                    }
                    // For Android (also limited from web browsers)
                    else if (/Android/.test(navigator.userAgent)) {
                        window.location.href = 'intent://settings/wifi#Intent;scheme=android-app;end';
                    }
                } catch (e) {
                    // Silently fail - instructions are already shown
                }
            }).catch(() => {
                // If clipboard fails, just show instructions
                showWiFiInstructions();
            });
        }

        // Show WiFi connection instructions
        function showWiFiInstructions() {
            const message = `‚úì Password copied to clipboard!\n\nNetwork: TP-Link_6C61_5G\nPassword: 09092259\n\nTo connect:\n1. Open WiFi settings on your device\n2. Select "TP-Link_6C61_5G"\n3. Paste the password (already copied!)`;

            alert(message);
        }

        // Generate WiFi QR Code
        function generateWiFiQR() {
            const qrContainer = document.getElementById('wifiQRCode');
            if (qrContainer && qrContainer.innerHTML === '') {
                // WiFi QR code format: WIFI:T:WPA;S:SSID;P:password;;
                const wifiString = 'WIFI:T:WPA;S:TP-Link_6C61_5G;P:09092259;;';
                new QRCode(qrContainer, {
                    text: wifiString,
                    width: 200,
                    height: 200,
                    colorDark: '#1863DC',
                    colorLight: '#ffffff',
                    correctLevel: QRCode.CorrectLevel.H
                });
            }
        }

        // Generate QR code when WiFi detail is shown
        const originalShowDetail = showDetail;
        showDetail = function(section) {
            originalShowDetail(section);
            if (section === 'wifi') {
                setTimeout(generateWiFiQR, 100);
            }
        };

        // Language switcher functionality
        document.getElementById('languageSwitcher').addEventListener('click', function(e) {
            e.preventDefault();

            // Determine current page and map to Spanish equivalent
            const currentPath = window.location.pathname;
            let targetPath;

            if (currentPath.includes('/en/guest-portal/info.html')) {
                targetPath = '/es/portal-huespedes/info.html';
            } else {
                targetPath = '/es/portal-huespedes/';
            }

            // Save language preference
            try {
                localStorage.setItem('preferredLanguage', 'es');
            } catch(e) {
                console.warn('Could not save language preference:', e);
            }

            // Redirect to Spanish version
            window.location.href = targetPath;
        });
    </script>
</body>
</html>
